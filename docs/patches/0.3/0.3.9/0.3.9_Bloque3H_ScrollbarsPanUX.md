# 0.3.9 — Bloque 3H: Scrollbars OFF por defecto + Pan/Zoom consistente

**Fecha:** 2026-01-17  
**Estado:** stable  
**Tipo:** feature

## Objetivo
Mejorar UX del lienzo:
- Evitar scrollbars siempre visibles (ruido visual).
- Mantener pan/zoom consistente sin depender de scrollbars visibles.

## Problema
El `CanvasView` estaba configurando scrollbars en **AlwaysOn**.
Esto tiene dos efectos no deseados:
1) Ensucia el UI y reduce el área útil del viewport.
2) La presencia/ausencia de scrollbars puede introducir micro-cambios de viewport y “saltitos” al encuadrar/ajustar.

## Solución
- Scrollbars: por defecto se dejan en **AlwaysOff** (ocultas).
- Se agregó override por variable de entorno `RCS_CANVAS_SCROLLBARS`:
  - `off` (default): ocultas
  - `needed`: aparecen sólo cuando se necesitan
  - `on`: siempre visibles (debug)
- No se cambió la lógica de cámara:
  - Pan herramienta (modo PAN) sigue usando `ScrollHandDrag`.
  - Pan rápido con botón medio (MMB) sigue funcionando (usa los valores de scrollbar aunque estén ocultas).
  - Zoom/rotar/escalar siguen igual (incluye hotfix 0.3.8.2 de sync + clamp).

## Compatibilidad
- Sin cambios de schema `.RCS`.
- Sin cambios de flujo en herramientas: sólo cambia la visibilidad por defecto.

## Archivos tocados
- `rcs/ui/canvas_view.py`
- `rcs/core/version.py`
- `docs/CHANGELOG.md`
- `docs/RCS_STATUS.md`
- `docs/patches/index.md`
- `ai/context.json`
- `docs/checklist/CHECKLIST_0.3.9_Bloque3H_ScrollbarsPanUX.md`

## Checklist de pruebas
Ver `docs/checklist/CHECKLIST_0.3.9_Bloque3H_ScrollbarsPanUX.md`.
