# 0.3.8.2 — HOTFIX (Cámara/Zoom: sync + clamp dinámico)

Fecha: 2026-01-17

## Problema
Después de un `fitInView()` (p.ej. al abrir un `.RCS` o reconstruir escena), el `QGraphicsView` puede quedar en una escala real fuera del rango “normal” del zoom interactivo.

En RCS, el estado interno `_zoom` se estaba **clampando** a 0.1..8.0 al sincronizar con el transform del view. Resultado:
- El indicador/estado de zoom no coincidía con la escala real.
- El **primer gesto de zoom** (Ctrl+rueda o herramienta Zoom) pegaba un **salto brusco** (snap) hacia el clamp.

## Solución
1. `_sync_zoom_from_view_transform()` ahora registra el zoom real (m11 del `transform()`) **sin clamp**, para que el estado interno sea coherente con la cámara actual.
2. `_set_zoom()` aplica un **clamp dinámico**:
   - Rango “normal” 0.1..8.0.
   - Si el zoom actual quedó por debajo de 0.1 (o por encima de 8.0) por un ajuste automático, el límite se “pega” al valor actual.
   - Con eso, no se permite ir a escalas más ridículas, **pero** tampoco se fuerza un snap inmediato: el usuario puede volver suavemente al rango normal.

## Pruebas manuales
- Abrir un `.RCS` y verificar que el zoom inicial no “miente” (no hay salto al primer Ctrl+rueda).
- Ctrl+rueda: zoom in/out suave.
- Herramienta Zoom: rueda sin Ctrl hace zoom suave.
- Menú Ver: Zoom In / Zoom Out / Zoom Reset coherentes.
- Confirmar que no se puede alejar más si el zoom inicial ya era extremadamente chico (el clamp dinámico lo frena).

## Archivos tocados
- `rcs/ui/canvas_view.py`
- `rcs/core/version.py`
- `docs/CHANGELOG.md`
- `docs/RCS_STATUS.md`
- `docs/patches/index.md`
- `docs/checklist/CHECKLIST_0.3.8.2_HOTFIX_ZoomClamp.md`
