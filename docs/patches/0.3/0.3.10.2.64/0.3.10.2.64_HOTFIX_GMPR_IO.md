# 0.3.10.2.64 — Hotfix GMPR I/O + raster restore

## Objetivo
Reemplazar completamente el flujo de proyecto `.RCS` por `.GMPR` (formato bundle usado por el slicer), y garantizar que:

- Se abra un `.GMPR` y se reconstruya la escena con:
  - SVG base embebido como fondo (no seleccionable).
  - Rasters (PNGs embebidos) como objetos movibles/seleccionables.
- Se guarde nuevamente en `.GMPR` actualizando únicamente transforms (x/y/scale/rot) sin romper el JSON original.

## Alcance (archivos tocados)
- `rcs/ui/main_window.py`
- `rcs/ui/canvas_view.py`
- `rcs/core/models.py`
- `rcs/core/gmpr_io.py` (nuevo)
- `rcs/core/version.py`
- Documentación: `docs/CHANGELOG.md`, `docs/patches/index.md`, checklist.

## Cambios principales

### 1) MainWindow
- `Abrir / Guardar / Guardar como` pasan a operar únicamente con `GMPR`.
- Se elimina por UI la extensión `.RCS` (no aparece en diálogos).

### 2) CanvasView
- Nuevo pipeline de render para `ObjectType = "raster"`:
  - Decodifica PNG base64 y lo instancia como `QGraphicsPixmapItem`.
- Preview base GMPR:
  - Se dibuja el SVG embebido por debajo (`z` muy negativo), sin selección y sin interceptar clicks.

### 3) Models
- Se habilita `ObjectType = "raster"`.
- Se agregan campos runtime para GMPR en `Project` (no se serializan a `.RCS`).

### 4) gmpr_io
- Capa de compatibilidad de formatos:
  - SVG embebido en `svg_embedded` (`gzip+base64` o `base64`).
  - Alternativa: `svg.svg_base64`.
  - Raster en `objects[].raster_meta` o en `custom_by_uid[uid]`.
- Guardado:
  - Actualiza transforms por UID sin reestructurar el bundle.
  - Backup automático `.bak_YYYYMMDD_HHMMSS`.

## Notas
- Este hotfix apunta a **restaurar y conservar raster como raster**. No agrega UI para importar rasters nuevos.
- La vista base del SVG embebido es un preview para alineación visual; no se reescribe.

## Checklist
Ver: `docs/checklist/CHECKLIST_0.3.10.2.64_HOTFIX_GMPR_IO.md`
