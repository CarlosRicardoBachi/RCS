# 0.3.10.1 (HOTFIX) — Canvas: preview nítido + grilla limitada

## Problemas reportados
1. Las líneas/preview se veían poco nítidas (pixeleo/borroso), especialmente al zoom in.
2. `Ver → Preview Style` (grosor de línea y halo/contorno) casi no se percibía.
3. La grilla se dibujaba sobre un rectángulo enorme (‘casi infinita’) cuando se hacía zoom out.

## Causa raíz
- El preview se renderizaba a una resolución interna, luego se **re-escalaba** a 240px y se perdía detalle.
- El grosor/halo se aplicaba en la imagen interna, pero luego el re-escalado lo “achataba” (a veces quedaba en 1px o menos).
- La grilla se dibujaba usando el `rect` expuesto por Qt (viewport) sin recortar al área de hoja/escena.

## Qué cambia
### CanvasView (rcs/ui/canvas_view.py)
- Preview raster: ahora se renderiza con **DPR (devicePixelRatio)** y se preserva ese DPR en el QPixmap.
  - Resulta en líneas más limpias y menos pixelación sin cambiar el tamaño lógico del objeto.
- Grosor/halo: se escalan internamente por el DPR (sin perderse por downscale), por eso el menú “Ver” se nota.
- Grilla: se recorta al `sceneRect()` (hoja) y se dibuja sin antialias para que se vea más nítida.
- Opt-in OpenGL: `RCS_CANVAS_OPENGL=1` intenta usar `QOpenGLWidget` como viewport.

## Variables de entorno nuevas (tuning)
- `RCS_CANVAS_OPENGL=1` → habilita viewport OpenGL (prueba; puede depender del driver).
- `RCS_CANVAS_PREVIEW_DPR=1..4` → DPR base del preview (default 2).
- `RCS_CANVAS_PREVIEW_PX=96..1024` → tamaño lógico base del preview (default 240).

## Compatibilidad
- No cambia el formato .RCS.
- No rompe inserción/transformaciones; solo mejora render.

## Archivos
- `rcs/ui/canvas_view.py`
- `rcs/core/version.py`
- `docs/RCS_STATUS.md`
- `docs/CHANGELOG.md`
- `docs/patches/index.md`
- `docs/patches/0.3/0.3.10.1/0.3.10.1_HOTFIX_CanvasPreviewGrid.md`
- `docs/checklist/CHECKLIST_0.3.10.1_HOTFIX_CanvasPreviewGrid.md`
