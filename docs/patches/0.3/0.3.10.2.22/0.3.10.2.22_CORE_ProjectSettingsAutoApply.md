# Patch 0.3.10.2.22 — CORE: Project settings auto-apply + version constants

## Qué cambia

1. **La app ahora aplica `rcs_settings.json` al iniciar** (si existe en la raíz del repo).
   - Esto hace que los ajustes de thumbnails (grosor / halo / tamaño) y el **zoom inicial** funcionen sin tener que setear env vars a mano.
   - Política: `prefer_env=True` → si vos seteás una env var, **gana la env var** (el JSON no la pisa).

2. **Se restauran constantes en `rcs.core.version`**.
   - `SCHEMA_VERSION` vuelve a ser `int` (evita incompatibilidades al abrir proyectos / errores raros).
   - Mantiene los defaults actuales de canvas (160×100mm).

3. **`python -m rcs.tools.render_debug` también aplica `rcs_settings.json`** (útil para testear sin abrir la UI).

## Cómo probar (rápido)

1. Verificar versión:
   - `python -c "from rcs.core.version import APP_VERSION; print(APP_VERSION)"` → `0.3.10.2.22`

2. Editar `rcs_settings.json` (en la raíz) y probar, por ejemplo:
   - `preview.thumbs.stroke_thick`
   - `preview.thumbs.outline_thick`
   - `preview.thumbs.size_px`
   - `ui.canvas.zoom_after_fit`

3. Borrar cache de thumbs (si querés forzar regeneración):
   - `rmdir /s /q "%USERPROFILE%\.rcs_cache\thumbs"`

4. Abrir RCS y mirar la biblioteca de componentes + el zoom inicial.

## Archivos tocados

- `rcs/app.py`
- `rcs/core/settings.py`
- `rcs/core/version.py`
- `rcs/tools/render_debug.py`
- `docs/CHANGELOG.md`
- `docs/patches/index.md`
- `docs/patches/0.3/0.3.10.2.22/0.3.10.2.22_CORE_ProjectSettingsAutoApply.md`
- `ai/context.json`
