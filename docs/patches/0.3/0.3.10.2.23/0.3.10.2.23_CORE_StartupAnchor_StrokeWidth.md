# 0.3.10.2.23 — CORE — Startup Anchor + Stroke Width robusto

## Objetivo

1) Permitir definir el punto de arranque de la vista al iniciar (por ejemplo: centrar en el origen del canvas / “punto 0”).
2) Hacer que el grosor del contorno (stroke) en el lienzo responda de forma confiable al menú, incluso con las rarezas de QtSvg.

---

## Cambios

### 1) `rcs_settings.json`: nuevo `ui.canvas.start_anchor`

Se agrega soporte para:

- `ui.canvas.start_anchor` (string)
  - Valores: `canvas_origin` | `canvas_center` | `sheet_origin` | `sheet_center`
  - Alias tolerados: `origin` | `0` | `canvas0` (equivalen a `canvas_origin`), `center` (equivale a `canvas_center`)

Esto se traduce a env var:

- `RCS_CANVAS_START_ANCHOR`

> Se aplica **una sola vez por sesión**, para no reubicar la vista cada vez que se reconstruye la escena.

### 2) Stroke width del lienzo: compatibilidad mejorada con QtSvg

QtSvg a veces ignora `*{...}`. Para que el menú de grosor **sí o sí** impacte:

- Se usan selectors explícitos (`path, line, rect, circle, ...`) en el CSS inyectado.
- Además, se normaliza `stroke-width` dentro del SVG (atributo y style inline) antes de renderizar.

---

## Verificación rápida

1) Ejecutar:
   - `python -c "from rcs.core.version import APP_VERSION; print(APP_VERSION)"` → debe dar `0.3.10.2.23`

2) Vista:
   - Si `ui.canvas.start_anchor` está en `canvas_origin`, al abrir el proyecto la vista arranca centrada en el origen del canvas.

3) Grosor:
   - Insertar un SVG (cualquiera con contorno).
   - Cambiar **Ver → Vista → Grosor de línea → Contorno**.
   - Debe verse el cambio inmediato (se re-renderizan previews existentes).

---

## Archivos tocados

- `rcs/core/version.py`
- `rcs/core/settings.py`
- `rcs/ui/canvas_view.py`
- `docs/CHANGELOG.md`
- `docs/patches/index.md`
- `ai/context.json`
- `rcs_settings.json`

