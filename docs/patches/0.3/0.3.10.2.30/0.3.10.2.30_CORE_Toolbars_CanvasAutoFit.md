# 0.3.10.2.30 — CORE — Toolbars flotantes + Lienzo automático (ajustar a contenido)

## Objetivo
1) Separar la barra de herramientas en **dos grupos** (herramientas vs acciones) y permitir que sea **flotante/dockeable**.
2) Agregar **Lienzo automático**: ajustar el tamaño del lienzo al contenido (recorte) eliminando márgenes, útil para exportar con tamaño justo.

## Cambios
### 1) Toolbars en 2 grupos + flotantes
- Se reemplaza la toolbar única por:
  - **Herramientas**: Seleccionar, Arrastrar, Mover, Rotar, Escalar.
  - **Acciones**: Duplicar, Ajustar (fit seleccionado), **Lienzo automático**.
- Ambas toolbars ahora son **movibles y flotables**.
- Nombres estables para persistencia:
  - `tb_tools`
  - `tb_actions`

### 2) Lienzo automático (ajustar a contenido)
- Nueva acción en:
  - Toolbar **Acciones**
  - Menú **Lienzo → Lienzo automático**
- Función: calcula el bounding box del contenido, traslada todos los objetos para eliminar márgenes (top/left) y ajusta `canvas_mm` al tamaño exacto del contenido.
- No modifica el SVG: solo actualiza transforms y tamaño de lienzo.

## Variables de entorno
- (Ninguna nueva)

## Archivos tocados
- `rcs/ui/main_window.py`
- `rcs/ui/canvas_view.py`
- `rcs/core/version.py`
- `docs/CHANGELOG.md`
- `docs/patches/index.md`
- `docs/patches/0.3/0.3.10.2.30/0.3.10.2.30_CORE_Toolbars_CanvasAutoFit.md`
- `ai/context.json`

## Pruebas manuales sugeridas
1) Abrir proyecto con varios objetos dispersos.
2) **Lienzo → Lienzo automático**:
   - El borde del lienzo debe recortar al contenido.
   - Los objetos deben quedar dentro del lienzo sin márgenes grandes.
3) Probar **Guardar / Cerrar / Abrir**:
   - Las toolbars deben recordar su posición (y si estaban flotantes, Qt lo reintenta según plataforma).
4) Verificar que duplicar y ajustar siguen funcionando desde toolbar Acciones.

## Checklist
- [ ] Toolbars separadas y flotantes.
- [ ] `tb_tools` y `tb_actions` con `objectName` estable.
- [ ] Lienzo automático funciona con 1 objeto y con muchos.
- [ ] No rompe guardado/carga ni selección.
