# HOTFIX 0.3.10.2.76 — GMPR Import: no crash + SVG visible + raster scale coherente

Fecha: 2026-02-08

## Síntomas corregidos

1) **Crash al importar GMPR**
- Error: `SceneObject.__init__() got an unexpected keyword argument 'meta'`
- Causa: se estaba pasando `meta=` a `SceneObject`, pero el modelo no tiene ese campo.

2) **Raster fuera de escala / posición incoherente**
- Causa: se estaba interpretando `sx/sy` como mm/px (y/o mezclando viewBox), cuando en los GMPR reales `sx/sy` funciona como **factor** sobre el scale base (mm/px) de RCS.

3) **SVG embebido “invisible”**
- Causa típica: SVG con stroke negro + UI oscura (no se ve). Se fuerza un stroke claro para el preview base.

## Cambios

- `rcs/core/gmpr_io.py`
  - Se elimina el uso de `meta=` en `SceneObject`.
  - Se interpreta `x/y` como **mm** del canvas.
  - Se interpreta `sx/sy` como **factor adimensional** (y se respeta `s` legacy).
  - Guardado: actualización de dict de transform consistente con el formato original (sx/sy o s).

- `rcs/ui/canvas_view.py`
  - Preview base GMPR: se inyecta CSS para stroke claro + fill none y se aumenta opacidad para hacerlo visible en tema oscuro.

## Checklist (manual)

- Importar `proyectoabc.GMPR` y verificar:
  - No hay crash.
  - Se ve el SVG base (al menos como preview).
  - El raster cae dentro del lienzo y con tamaño razonable.
