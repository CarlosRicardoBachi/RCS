# 0.3.10.2.25 — CORE — Panel Objetos (capas) + menú contextual (Z)

Fecha: 2026-01-23

## Objetivo

Agregar una UI mínima y estable para **ver la lista de objetos** y **mover el Z-order** sin ir “a ciegas” al menú superior:

- **Ver → Paneles → Objetos**: panel dockeable con lista ordenada por Z (arriba = frente).
- Botones y menú contextual en el panel para **Traer/Enviar/Subir/Bajar**.
- **Click derecho en el canvas** (sobre un objeto o selección) con el mismo set de acciones.

No toca render/thumbnails ni el sistema de estilos.

## Qué incluye

### UI / UX
- Dock “**Objetos**” (derecha por defecto), con:
  - Lista de objetos (Z + nombre)
  - Botones: **⬆ Subir**, **⬇ Bajar**, **⤒ Frente**, **⤓ Fondo**
  - Menú contextual en la lista (click derecho)
- Menú: **Ver → Paneles → Objetos** (toggle show/hide)
- Menú contextual en canvas (click derecho): Traer/Enviar/Subir/Bajar

### Comportamiento
- La lista se ordena por `z` (mayor arriba).
- Selección bidireccional:
  - Seleccionar en la lista selecciona en el canvas.
  - Seleccionar en el canvas actualiza la lista.
- Las acciones Z reutilizan las primitivas del patch anterior (0.3.10.2.24).

## Archivos tocados

- `rcs/core/version.py`
- `rcs/ui/main_window.py`
- `rcs/ui/canvas_view.py`
- `rcs/ui/objects_panel.py` (nuevo)
- `docs/CHANGELOG.md`
- `docs/patches/index.md`
- `docs/patches/0.3/0.3.10.2.25/0.3.10.2.25_CORE_ObjectList_ZOrderUI.md`
- `ai/context.json`

## DoD (Definition of Done)

Con 3 SVGs superpuestos:

1. Abrís el panel **Objetos** desde **Ver → Paneles → Objetos**.
2. En la lista:
   - Seleccionás uno → queda seleccionado en el canvas.
   - Usás **Subir/Bajar** → se ve el cambio (swap mínimo).
   - Usás **Frente/Fondo** → se ve el cambio.
3. En canvas:
   - Click derecho sobre un objeto: aparecen las acciones Z.
   - Traer al frente / enviar al fondo funcionan.
4. Guardás proyecto → cerrás → abrís → el orden se conserva (esto ya lo garantiza 0.3.10.2.24).

## Checklist de verificación (30–60s)

- [ ] Insertar 3 SVGs (A, B, C) y superponerlos.
- [ ] Abrir panel: **Ver → Paneles → Objetos**.
- [ ] Confirmar que la lista muestra Z (número) y un nombre.
- [ ] Click en un item de la lista → el mismo queda seleccionado en el canvas.
- [ ] Botón **⤒ Frente** en el item seleccionado → queda arriba.
- [ ] Botón **⤓ Fondo** → queda abajo.
- [ ] Botón **⬆ Subir** / **⬇ Bajar** → se ve el cambio de apilado paso a paso.
- [ ] Click derecho en el canvas sobre un objeto → menú contextual aparece.
- [ ] Probar Traer/Enviar desde ese menú.
- [ ] Guardar/reabrir → el orden se mantiene.

## Notas

- El panel es un “primer escalón” (capas mínimas) pensado para habilitar **Agrupar v1** sin pelearte con el apilado.
- No agrega nuevas dependencias.
