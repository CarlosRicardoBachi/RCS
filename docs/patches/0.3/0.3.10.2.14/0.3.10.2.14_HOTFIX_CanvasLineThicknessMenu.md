# 0.3.10.2.14 — HOTFIX: Canvas Line Thickness (menú Ver)

## Problema
Tras los hotfix de preview (thumbs/canvas), el menú **Ver → Vista previa → Grosor de línea** en el lienzo quedaba “sin efecto” (o casi imperceptible) dependiendo del nivel de zoom. En la práctica se sentía como si el grosor de las líneas estuviera clavado.

## Causa
La función que calcula el grosor efectivo del preview del canvas compensaba automáticamente por zoom, dividiendo el grosor base por `z`. Con zoom altos (muy comunes si la hoja entra “chica” y el usuario acerca), muchos valores terminaban colapsando al mismo grosor mínimo, dando la sensación de que el menú no hacía nada.

## Solución
- Por defecto **se desactiva** la compensación por zoom para el grosor del preview en el canvas.
- El grosor que se elige en el menú vuelve a mapear 1:1 a lo que se renderiza.
- Se agrega un flag opcional para reactivar el comportamiento anterior si alguien lo prefiere:
  - `RCS_CANVAS_THICK_COMPENSATE_ZOOM=1`

> Importante: este hotfix **no toca** la generación/estilo de *thumbnails*. Solo afecta el cálculo del grosor efectivo del preview del **canvas**.

## Archivos modificados
- `rcs/ui/canvas_view.py`
- `rcs/core/settings.py` (fix menor: `SyntaxWarning` por escape inválido en docstring)
- `rcs/core/version.py`
- `ai/context.json`
- `docs/CHANGELOG.md`
- `docs/patches/index.md`

## Cómo probar
1. Abrir RCS.
2. Insertar un SVG en el canvas.
3. Cambiar en **Ver → Vista previa → Grosor de línea** (por ejemplo 1 → 6) y verificar que el contorno del SVG cambia de inmediato.
4. Repetir con distintos niveles de zoom.

## Notas
Si quisieras volver al comportamiento “compensado por zoom” (líneas con grosor casi constante en pantalla cuando acercás), iniciar con:

```bat
set RCS_CANVAS_THICK_COMPENSATE_ZOOM=1
python -m rcs.app
```
