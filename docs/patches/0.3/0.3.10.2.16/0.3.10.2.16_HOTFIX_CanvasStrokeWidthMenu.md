# 0.3.10.2.16 — HOTFIX CanvasStrokeWidthMenu (2026-01-21)

## Problema
El menú **Ver → Vista previa → Grosor de línea** no “afinaba” la línea: el post-proceso (dilatación de alpha) solo puede **engordar**, pero no puede “des-engordar” un stroke ya renderizado por el SVG. Resultado: el halo respondía, pero el ancho real del trazo quedaba clavado.

## Solución (pragmática y robusta)
Para el **preview del canvas**:
- Se fuerza `stroke-width` **en el render SVG** (en memoria, sin tocar archivos) inyectando un `<style id="rcs-preview-style">`.
- Se calcula el `stroke-width` en unidades del SVG para que, después del escalado del renderer, el grosor final sea ~`stroke_px` en píxeles.
- El post-proceso deja `stroke_thick=0` y solo usa `outline_thick` para el halo.

## Importante
- **Miniaturas (thumbs): SIN cambios.** Este patch toca solo el render de previews del canvas.
- No se modifica el SVG en disco.

## Archivos tocados
- `rcs/ui/canvas_view.py`
- `rcs/core/version.py`
- `docs/CHANGELOG.md`
- `docs/patches/index.md`
- `docs/patches/0.3/0.3.10.2.16/0.3.10.2.16_HOTFIX_CanvasStrokeWidthMenu.md`
- `docs/patches/0.3/0.3.10.2.15/0.3.10.2.15_HOTFIX_CanvasPreviewThicknessApplyNow.md`

## Cómo probar
1. Abrí RCS.
2. Insertá una figura.
3. Menú: **Ver → Vista previa → Grosor de línea**: probá 1..6.
4. Confirmá que el trazo se vuelve realmente más fino/grueso (no solo el halo).
5. Probá **Contorno**: debe seguir funcionando independiente.

## Rollback
Revertir `rcs/ui/canvas_view.py` y `rcs/core/version.py` a la versión previa, o restaurar desde tu VCS/backup.
